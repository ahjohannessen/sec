<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">Basic Data Types | Scala EventStoreDB Client</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Basic Data Types | Scala EventStoreDB Client"><meta data-react-helmet="true" name="description" content="In sec some basic data types surface in many use cases when interacting with EventStoreDB. In order to establish some basics"><meta data-react-helmet="true" property="og:description" content="In sec some basic data types surface in many use cases when interacting with EventStoreDB. In order to establish some basics"><meta data-react-helmet="true" property="og:url" content="https://ahjohannessen.github.com/sec/docs/types"><link data-react-helmet="true" rel="shortcut icon" href="/sec/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://ahjohannessen.github.com/sec/docs/types"><link rel="stylesheet" href="/sec/styles.2f193996.css">
<link rel="preload" href="/sec/styles.7a3ee7fe.js" as="script">
<link rel="preload" href="/sec/runtime~main.56871edd.js" as="script">
<link rel="preload" href="/sec/main.4954fc40.js" as="script">
<link rel="preload" href="/sec/1.e5fa8c0d.js" as="script">
<link rel="preload" href="/sec/2.05b781a1.js" as="script">
<link rel="preload" href="/sec/18.d8df5119.js" as="script">
<link rel="preload" href="/sec/19.3690c92c.js" as="script">
<link rel="preload" href="/sec/935f2afb.25b17b39.js" as="script">
<link rel="preload" href="/sec/17896441.b0ef4eb0.js" as="script">
<link rel="preload" href="/sec/c2163f97.5f92f5eb.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/sec/"><img class="navbar__logo" src="/sec/img/logo.svg" alt="sec"><strong class="navbar__title"> </strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sec/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ahjohannessen/sec" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/sec/"><img class="navbar__logo" src="/sec/img/logo.svg" alt="sec"><strong class="navbar__title"> </strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/sec/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/ahjohannessen/sec" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/setup">Quick Start</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Types and API</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/sec/docs/types">Data Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/client_api">Client API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/config">Config</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Streams</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/writing">Writing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/reading">Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/subscribing">Subscribing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/deleting">Deleting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sec/docs/metastreams">Metadata</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Basic Data Types</h1></header><div class="markdown"><p>In sec some basic data types surface in many use cases when interacting with EventStoreDB. In order to establish some basics
these are described in the following - More details about the particulars of these types are in API documentation.  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="streamid"></a>StreamId<a aria-hidden="true" tabindex="-1" class="hash-link" href="#streamid" title="Direct link to heading">#</a></h3><p>Streams in EventStoreDB have stream identifiers that can be classified as user defined and system defined.
In EventStoreDB streams prefixed with <code>$</code> are reserved for the system, for instance <code>$settings</code>.
Furthermore, EventStoreDB also has a concept of metadata streams for streams. Metadata streams for system streams are prefixed
with <code>$$</code>, e.g. the corresponding metadata stream for <code>$settings</code> is <code>$$$settings</code>. Metadata streams for user defined
streams are prefixed with a <code>$</code>, e.g. <code>user_stream</code> has a corresponding metadata stream named <code>$user_stream</code>.</p><p>In sec a stream identifier is an ADT called <code>StreamId</code> with variants <code>Id</code> and <code>MetaId</code> - <code>Id</code>
has two variants, <code>Normal</code> and <code>System</code>. The stream identifiers that a user can create are <code>Normal</code> and <code>System</code>,
this is done with <code>StreamId.apply</code> that returns an <code>Either[InvalidInput, Id]</code>. Some examples of <code>StreamId</code> construction
are:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import sec.StreamId</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val user   = StreamId(&quot;user_stream&quot;)    // Right(Normal(&quot;user_stream&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">val system = StreamId(&quot;$system_stream&quot;) // Right(System(&quot;system_stream&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// MetaId for above you get from the metaId method.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// The render method displays the stream identifier as EventStoreDB sees it.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">user.map(_.metaId.render)   // Right(&quot;$$user_stream&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">system.map(_.metaId.render) // Right(&quot;$$$system_stream&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Invalid stream identifiers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamId(&quot;&quot;)        // Left(InvalidInput(&quot;id cannot be empty&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamId(&quot;$$oops&quot;)  // Left(InvalidInput(&quot;value must not start with $$, but is $$oops&quot;))</span></div></div></div></div></div><p>Moreover, a few common system stream identififiers are located in the <code>StreamId</code> companion object, for instance:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import sec.StreamId</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamId.All.render               // $all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamId.Scavenges.render         // $scavenges</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamId.All.metaId.render        // $$$all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamId.Scavenges.metaId.render  // $$$scavenges</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="streamposition"></a>StreamPosition<a aria-hidden="true" tabindex="-1" class="hash-link" href="#streamposition" title="Direct link to heading">#</a></h3><p>When you store an event in EventStoreDB it is assigned a <strong>stream position</strong> in the individual stream it belongs to.
In sec a stream position is an ADT called <code>StreamPosition</code> with two variants, <code>StreamPosition.Exact</code> that contains
a <code>Long</code> and <code>StreamPosition.End</code> that is an object representing the end of a stream.</p><p>A <code>StreamPosition</code> that you can create is <code>Exact</code> and this is done with <code>StreamPosition.apply</code> that returns an
<code>Either[InvalidInput, Exact]</code>. Examples of <code>StreamPosition</code> construction:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import sec.StreamPosition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamPosition.Start // Exact(0L)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamPosition(1L)   // Right(Exact(1L))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamPosition.End   // End</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">StreamPosition(-1L)  // Left(InvalidInput(&quot;value must be &gt;= 0, but is -1&quot;))</span></div></div></div></div></div><p>One use case where you need to construct a <code>StreamPosition</code> is when you to store a pointer of the last processed
event for a particular stream as a <code>Long</code> in a read model and, e.g. after a restart of your application,
need to resume reading from EventStoreDB.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="logposition"></a>LogPosition<a aria-hidden="true" tabindex="-1" class="hash-link" href="#logposition" title="Direct link to heading">#</a></h3><p>All events in EventStoreDB have a logical position in the global transaction log. A logical position consists of a <em>commit position</em> value
and a <em>prepare position</em> value. In sec this is modelled as an ADT called <code>LogPosition</code> with two variants, <code>LogPosition.Exact</code>
that contains two <code>Long</code> values and <code>LogPosition.End</code> representing the end of the log.</p><p>A <code>LogPosition</code> that you can create from <code>Long</code> values is <code>Exact</code>, this is done with <code>LogPosition.apply</code> that returns an
<code>Either[InvalidInput, Exact]</code>. Examples of <code>LogPosition</code> construction:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import sec.LogPosition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LogPosition.Start    // Exact(0L, 0L)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LogPosition.End      // End</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LogPosition(1L, 1L)  // Right(Exact(1L, 1L))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LogPosition(-1L, 0L) // Left(InvalidInput(&quot;commit must be &gt;= 0, but is -1&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LogPosition(0L, -1L) // Left(InvalidInput(&quot;prepare must be &gt;= 0, but is -1&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LogPosition(0L, 1L)  // Left(InvalidInput(&quot;commit must be &gt;= prepare, but 0 &lt; 1&quot;))</span></div></div></div></div></div><p>Cases where you construct a <code>LogPosition</code> is similar to that of <code>StreamPosition</code>, maintaining a pointer of last
processed event. However, here you keep a pointer to the global log, <code>StreamId.All</code>, instead of an individual
stream.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="streamstate"></a>StreamState<a aria-hidden="true" tabindex="-1" class="hash-link" href="#streamstate" title="Direct link to heading">#</a></h3><p>Some operations, such as appending events to a stream, require that you provide an <em>expectation</em> of what <strong>state</strong>
the stream currently is in. If the stream state does not fullfil that expectation then an exception will be raised by EventStoreDB.
In sec this expected stream state is represented by the ADT <code>StreamState</code> that has four variants:</p><ul><li><code>NoStream</code> - The stream does not exist yet. </li><li><code>Any</code> - No expectation about the current state of the stream.</li><li><code>StreamExists</code> - The stream, or its metadata stream, is present.</li><li><code>StreamPosition.Exact</code> - The stream exists and its last written stream position is expected to be <code>Exact</code>.</li></ul><p>The <code>StreamState</code> expectation can be used to implement optimistic concurrency. When you retrieve a stream from EventStoreDB,
you can take note of the current stream position, then when you append to the stream you can determine if the stream has
been modified in the meantime.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="eventdata"></a>EventData<a aria-hidden="true" tabindex="-1" class="hash-link" href="#eventdata" title="Direct link to heading">#</a></h3><p>The event data you store in EventStoreDB is composed of an event type, an event id, payload data, metadata and a content type.
In sec this is modelled as <code>EventData</code> with types that are explained below.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="eventtype"></a>EventType<a aria-hidden="true" tabindex="-1" class="hash-link" href="#eventtype" title="Direct link to heading">#</a></h4><p>An event type should be supplied for your event data. This is a unique string used to identify the type of event you are
saving. One might be tempted to use language runtime types for event types as it might make marshalling more convenient.
However, this is not recommended as it couples storage to your types. Instead, you can use a mapping between event
types stored in EventStoreDB and your concrete runtime types.</p><p>The string that EventStoreDB uses for the event type is modelled in sec as an ADT with two main variants
<code>Normal</code> and <code>System</code>. The type that you can create is <code>Normal</code> and this is done with <code>EventType.apply</code>
that returns <code>Either[InvalidInput, Normal]</code>. Input is validated for emptiness and not starting with <code>$</code> that EventStoreDB
uses for reserved system defined types such as <code>$&gt;</code> and <code>$metadata</code>.</p><p>Examples of <code>EventType</code> construction:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import sec.EventType</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EventType(&quot;foo.bar.baz&quot;) // Right(Normal(&quot;foo.bar.baz&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EventType(&quot;&quot;)            // Left(InvalidInput(&quot;Event type name cannot be empty&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EventType(&quot;$@&quot;)          // Left(InvalidInput(&quot;value must not start with $, but is $@&quot;))</span></div></div></div></div></div><p>Common system types are located in the companion of <code>EventType</code>, some examples are:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-scala codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import sec.EventType</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EventType.LinkTo.render          // $&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EventType.StreamMetadata.render  // $metadata</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EventType.Settings.render        // $settings</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EventType.StreamReference.render // $@</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="eventid"></a>EventId<a aria-hidden="true" tabindex="-1" class="hash-link" href="#eventid" title="Direct link to heading">#</a></h4><p>The format of an event identifier is a <em><a href="https://en.wikipedia.org/wiki/Universally_unique_identifier" target="_blank" rel="noopener noreferrer">uuid</a></em> and is
used by EventStoreDB to uniquely identify the event you are trying to append. If two events with the same uuid are appended to
the same stream in quick succession EventStoreDB only appends one copy of the event to the stream. More information about this
is in the EventStoreDB <a href="https://eventstore.com/docs/dotnet-api/optimistic-concurrency-and-idempotence/index.html#idempotence" target="_blank" rel="noopener noreferrer">docs</a>
about concurrency and idempotence.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="data"></a>Data<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data" title="Direct link to heading">#</a></h4><p>The <code>data</code> field on <code>EventData</code> is a <a href="https://github.com/scodec/scodec-bits" target="_blank" rel="noopener noreferrer">scodec</a> <code>ByteVector</code> encoded representation
of your event data. If you store your data as JSON you can make use of EventStoreDB functionality for projections.
However, it is also common to store data in a <a href="https://developers.google.com/protocol-buffers" target="_blank" rel="noopener noreferrer"><code>protocol buffers</code></a> format.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="metadata"></a>Metadata<a aria-hidden="true" tabindex="-1" class="hash-link" href="#metadata" title="Direct link to heading">#</a></h4><p>It is common to store additional information along side your event data. This can be correlation id, timestamp, audit,
marshalling info and so on. EventStoreDB allows you to store a separate byte array containing this information to keep data
and metadata separate. These extra bytes are stored in a <code>ByteVector</code> field of <code>EventData</code> called <code>metadata</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="contenttype"></a>ContentType<a aria-hidden="true" tabindex="-1" class="hash-link" href="#contenttype" title="Direct link to heading">#</a></h4><p>The <code>data</code> and <code>metadata</code> fields on <code>EventData</code> have a content type, <code>ContentType</code>, with
variants <code>Binary</code> and <code>Json</code>. This is used to provide EventStoreDB information about whether the data is stored as json or as
binary. As you might have noticed, both <code>ByteVector</code> fields of <code>EventData</code> share the same content type, this is because
EventStoreDB does not support different content types for <code>data</code> and <code>metadata</code>.</p><p>When <code>EventType</code> is translated to the protocol of EventStoreDB it becomes <code>application/octet-stream</code> for <code>Binary</code> and
<code>application/json</code> for <code>Json</code>. In the future there might come more content types, e.g. something that corresponds to
<code>application/proto</code> or <code>application/avro</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="event"></a>Event<a aria-hidden="true" tabindex="-1" class="hash-link" href="#event" title="Direct link to heading">#</a></h3><p>Event data arriving from EventStoreDB either comes from an individual stream or from the global log. Data retrieved
from the global log contains positions <code>LogPosition.Exact</code> and <code>StreamPosition.Exact</code>, whereas data retrieved
from an individual stream contains only <code>StreamPosition.Exact</code>. </p><p>The difference in position information is encoded in the <em>ADT</em> that models an event, <code>Event[P &lt;: PositionInfo]</code> where <code>P</code>
is either <code>PositionInfo.Global</code> containing both position types or <code>PositionInfo.Local</code> that is an alias for <code>StreamPosition.Exact</code>.</p><p><code>Event</code> has the variants <code>EventRecord</code> and <code>ResolvedEvent</code>.</p><p>An <code>EventRecord</code> consists of the following data types:</p><ul><li><code>streamId: StreamId</code> - The stream the event belongs to.</li><li><code>position: P</code> - The <code>PositionInfo</code> information <code>P</code> about the event.</li><li><code>eventData: EventData</code> - The data of the event.</li><li><code>created: ZonedDateTime</code> - The time the event was created.</li></ul><p>A <code>ResolvedEvent</code> is used when consuming streams that link to other streams. It consists of:</p><ul><li><code>event: EventRecord</code> - The linked event.</li><li><code>link: EventRecord</code> - The linking event record.</li></ul><p>See the API docs for various methods defined for <code>Event</code>.</p><p>Later on when using the <a href="/sec/docs/client_api">EsClient API</a>, you will learn about reading from streams and instruct EventStoreDB to
resolve links such that you get events of type <code>ResolvedEvent</code> back.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/sec/docs/setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Quick Start</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/sec/docs/client_api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">EsClient API Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#streamid" class="table-of-contents__link">StreamId</a></li><li><a href="#streamposition" class="table-of-contents__link">StreamPosition</a></li><li><a href="#logposition" class="table-of-contents__link">LogPosition</a></li><li><a href="#streamstate" class="table-of-contents__link">StreamState</a></li><li><a href="#eventdata" class="table-of-contents__link">EventData</a></li><li><a href="#event" class="table-of-contents__link">Event</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright Â© 2021, sec contributors.</div></div></div></footer></div>
<script src="/sec/styles.7a3ee7fe.js"></script>
<script src="/sec/runtime~main.56871edd.js"></script>
<script src="/sec/main.4954fc40.js"></script>
<script src="/sec/1.e5fa8c0d.js"></script>
<script src="/sec/2.05b781a1.js"></script>
<script src="/sec/18.d8df5119.js"></script>
<script src="/sec/19.3690c92c.js"></script>
<script src="/sec/935f2afb.25b17b39.js"></script>
<script src="/sec/17896441.b0ef4eb0.js"></script>
<script src="/sec/c2163f97.5f92f5eb.js"></script>
</body>
</html>